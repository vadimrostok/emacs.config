;; User pack init file
;;
;; Use this file to initiate the pack configuration.
;; See README for more information.

;; Load bindings config
(live-load-config-file "bindings.el")

(tool-bar-mode -1)

(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                         ("marmalade" . "http://marmalade-repo.org/packages/")
                         ("melpa" . "http://melpa.milkbox.net/packages/")))

(set-language-environment 'UTF-8)
(autoload 'javascript-mode "javascript" nil t)
(autoload 'php-mode "php-mode" "Major mode for editing php code." t)
(setq auto-mode-alist
        (append '(
          ( "\\.el$". emacs-lisp-mode)
          ( ".emacs". emacs-lisp-mode)
          ( "\\.py$". python-mode)
          ( "\\.pyw$". python-mode)
          ( "\\.html$". sgml-mode)
          ( "\\.xml$". sgml-mode)
          ( "\\.js$". javascript-mode)
          ( "\\.cpp$". c++-mode)
          ( "\\.h$". c++-mode)
          ( "\\.less$". css-mode)
          ( "\\.cljs$". clojure-mode)
          ( "\\.php$" . php-mode) )))

(global-font-lock-mode 1) ;; эта хитрая заточка, включает разум емакса для подсветки синтаксиса

(setq scroll-step 1) ;; шаг =1
(setq default-tab-width 4) ;; табы по 4
(global-hl-line-mode 1) ;; подсветка строки с курсором
(windmove-default-keybindings 'meta) ;;
(fset 'yes-or-no-p 'y-or-n-p) ;; просим емакс быть кратким
(iswitchb-mode 1) ;; режим переключения буферов
(column-number-mode t)

(defun load-config () (interactive) (find-file "~/.emacs")) (global-set-key "\C-x/" 'load-config)

(global-set-key [(control tab)] 'previous-buffer) (global-set-key [(control shift tab)] 'next-buffer) (global-set-key [f4] 'revert-buffer) (global-set-key [f5] 'call-last-kbd-macro)
(global-set-key [f8] 'linum-mode) ;; без этой штуки жить нельзя
(global-set-key [f11] 'ibuffer) (global-set-key [f10] 'bookmark-bmenu-list) ;; Это покруче, Ctrl-D в тотал командере, сохраняйте букмарки везде (C-xrm) и открывайте их.

(add-hook 'javascript-mode-hook 'linum-mode 'toggle-truncate-lines 'my-scale-hook)
(defun my-scale-hook () (text-scale-set -1))
(add-hook 'python-mode-hook 'linum-mode)

(setq-default truncate-lines t)

(setq x-select-enable-clipboard t)

(global-set-key [control-shift-d] 'kill-word)

(global-set-key [(control g)] 'delete-backward-char)

(global-set-key "\C-x\C-m" 'execute-extended-command)
(global-set-key "\C-c\C-m" 'execute-extended-command)

(global-set-key [(control z)] nil)

(setq-default indent-tabs-mode t)
;;(setq-default indent-tabs-mode nil)
(setq-default tab-width 4)
(setq-default c-basic-offset 4)
(setq sgml-basic-offset 4)

;disable backup
(setq backup-inhibited t)
;disable auto save
(setq auto-save-default nil)

;;(add-to-list 'load-path "~/.emacs.d/")
;;(require 'auto-complete-config)
;;(add-to-list 'ac-dictionary-directories "~/.emacs.d//ac-dict")
;;(ac-config-default)

(global-set-key (kbd "M-/") 'undo)

(menu-bar-mode -1)

(color-theme-sanityinc-solarized-light)
